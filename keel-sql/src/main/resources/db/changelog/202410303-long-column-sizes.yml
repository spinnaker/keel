databaseChangeLog:
  - changeSet:
      id: long-date-sizes-linux-java-17
      author: jasonmcintosh
      changes:
        - sql:
            sql: |
              alter table event
              change timestamp_gen datetime(6) generated always as (str_to_date(json->>'$.timestamp', '%Y-%m-%dT%T.%fZ'))
              after application;
        - sql:
            sql: |
              alter table dismissible_notification
              change triggered_at datetime(6) generated always as (str_to_date(json->>'$.triggeredAt', '%Y-%m-%dT%T.%fZ'))
              after uid;
        - sql:
            sql: |
              alter table dismissible_notification
              change dismissed_at datetime(6) generated always as (str_to_date(json->>'$.dismissedAt', '%Y-%m-%dT%T.%fZ'))
              after dismissed_by;
